<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>E-Docs</title>
</head>

<body>
  <h1 id="h1">E-Docs</h1>
  <textarea rows="24" cols="50" name="main-content" id="main-content"></textarea>
</body>

<script>
  const $ = require('jquery')
  $(document).ready(() => {
    const ipc = require('electron').ipcRenderer
    const mainContent = $('#main-content')

    ipc.on('stateChange', (event, reponse) => {
      mainContent.val(response.text);
    });

    mainContent.on('input propertychange', function () {
      const cursorPosition = mainContent.prop("selectionStart");
      ipc.send('invokeAction', {text: mainContent.val(), cursorPosition})
    });
  })
</script>

</html>
