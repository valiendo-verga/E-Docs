<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>E-Docs</title>
</head>

<body>
  <h1 id="h1">E-Docs</h1>
  <textarea rows="24" cols="50" name="main-content" id="main-content"></textarea>
</body>

<script>
  const $ = require('jquery')
  $(document).ready(() => {
    const ipc = require('electron').ipcRenderer
    const mainContent = $('#main-content')

    mainContent.on('input propertychange', function () {
      ipc.once('actionReply', function (event, response) {
        mainContent.val(response)
      });
      var cursorPosition = mainContent.prop("selectionStart");

      ipc.send('invokeAction', {text: mainContent.val(), cursorPosition})
    });
  })
</script>

</html>
